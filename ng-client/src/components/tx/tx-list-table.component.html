<app-loader *ngIf="isLoading"></app-loader>
<table
  *ngIf="!isLoading"
  mat-table
  [dataSource]="model.items"
  class="mat-elevation-z4"
  style="width: 100%;"
>
  <ng-container matColumnDef="type">
    <th mat-header-cell *matHeaderCellDef style="font-size: 14px;">Type</th>
    <td mat-cell *matCellDef="let element" [title]="getTypeName(element.type)">
      <a
        routerLink="/transaction/{{ element.hash }}"
        routerLinkActive="router-link-active"
        style="font-size: 1.6em;"
      >
        <app-tx-icon [type]="element.type"></app-tx-icon>
      </a>
    </td>
  </ng-container>

  <ng-container matColumnDef="hash">
    <th mat-header-cell *matHeaderCellDef style="font-size: 14px;">Hash</th>
    <td mat-cell *matCellDef="let element">
      <a
        routerLink="/transaction/{{ element.hash }}"
        routerLinkActive="router-link-active"
      >
        {{ element.hash }}
      </a>
    </td>
  </ng-container>

  <ng-container matColumnDef="time">
    <th mat-header-cell *matHeaderCellDef style="font-size: 14px;">Time</th>
    <td mat-cell *matCellDef="let element">
      <div title="{{ element.finalizedAt | date: 'dd-MMM-yyyy | hh:mm:ss' }}">
        <small>{{ element.finalizedAt | timeAgo }}</small>
      </div>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr
    mat-row
    *matRowDef="let row; columns: displayedColumns"
    class="neo-row"
  ></tr>
</table>
<mat-paginator
  *ngIf="!isLoading"
  [length]="model.metaData.totalItemCount"
  [pageSizeOptions]="[8, 16, 32, 64]"
  [pageSize]="model.metaData.pageSize"
  [pageIndex]="model.metaData.pageIndex"
  (page)="update($event)"
  showFirstLastButtons
></mat-paginator>
